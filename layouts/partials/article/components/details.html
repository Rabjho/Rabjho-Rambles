<div class="article-details">
  {{ $tags := .GetTerms "tags" }}
  {{ $ctf := .GetTerms "ctf" }}
  {{ $rawAuthors := .Params.author }}
  {{ $authors := slice }}
  {{ $showAuthors := false }}
  {{ with $rawAuthors }}
    {{ if reflect.IsSlice . }}
      {{ $authors = . }}
    {{ else }}
      {{ $authors = slice . }}
    {{ end }}
    {{ $showAuthors = gt (len $authors) 0 }}
  {{ end }}
  {{ if or $tags $ctf }}
  <header class="article-category">
    {{ with $tags }}
      {{ range . }}
      <a href="{{ .RelPermalink }}" class="article-tag-chip">
        {{ .LinkTitle }}
      </a>
      {{ end }}
    {{ end }}

    {{ with $ctf }}
      {{ range . }}
      <a href="{{ .RelPermalink }}" class="article-ctf-chip">
        {{ .LinkTitle }}
      </a>
      {{ end }}
    {{ end }}
  </header>
  {{ end }}

  <div class="article-title-wrapper">
    <h2 class="article-title">
      <a href="{{ .RelPermalink }}"> {{- .Title -}} </a>
    </h2>

    {{ with .Params.description }}
    <h3 class="article-subtitle">{{ . }}</h3>
    {{ end }}
  </div>

  {{ $showReadingTime := .Params.readingTime | default
  (.Site.Params.article.readingTime) }} {{ $showDate := not .Date.IsZero }} {{
  $showFooter := or (or $showDate $showReadingTime) $showAuthors }} {{ if $showFooter }}
  <footer class="article-time">
    {{ if $showAuthors }}
    <div>
      {{ partial "helper/icon" "user" }}
      <span class="article-time--authors">
        {{- delimit $authors ", " -}}
      </span>
    </div>
    {{ end }}

    {{ if $showDate }}
    <div>
      {{ partial "helper/icon" "date" }}
      <time
        class="article-time--published"
        datetime='{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}'
      >
        {{- .Date | time.Format (or .Site.Params.dateFormat.published "Jan 02, 2006") -}}
      </time>
    </div>
    {{ end }} {{ if $showReadingTime }}
    <div>
      {{ partial "helper/icon" "clock" }}
      <time class="article-time--reading">
        {{ T "article.readingTime" .ReadingTime }}
      </time>
    </div>
    {{ end }}
  </footer>
  {{ end }} {{ if .IsTranslated }}
  <footer class="article-translations">
    {{ partial "helper/icon" "language" }}
    <div>
      {{ range .Translations }}
      <a href="{{ .Permalink }}" class="link">{{ .Language.LanguageName }}</a>
      {{ end }}
    </div>
  </footer>
  {{ end }}
</div>
